<div class="basic-calculator">
    <div class="calculator-intro">
        <h2>üí∞ Calculateur de Seuil de Rentabilit√©</h2>
        <p>D√©couvrez quel ROAS minimum vos campagnes publicitaires doivent atteindre pour √™tre rentables.</p>
        
        <!-- Exemple p√©dagogique dans un accord√©on -->
        <div class="example-accordion">
            <button type="button" class="accordion-trigger" onclick="toggleExample()">
                üìö Voir un exemple concret
                <span class="accordion-icon" id="example-icon">+</span>
            </button>
            <div class="example-content" id="example-content" style="display: none;">
                <div class="example-scenario">
                    <div class="scenario-step">
                        <span class="step-number">1</span>
                        <span class="step-text">Vous vendez un produit <strong>30‚Ç¨</strong></span>
                    </div>
                    <div class="scenario-step">
                        <span class="step-number">2</span>
                        <span class="step-text">Vos co√ªts totaux sont <strong>18‚Ç¨</strong> (produit + livraison + frais)</span>
                    </div>
                    <div class="scenario-step">
                        <span class="step-number">3</span>
                        <span class="step-text">BEROAS = 30 √∑ (30-18) = <strong>2.5</strong></span>
                    </div>
                    <div class="scenario-conclusion">
                        <strong>üí° Conclusion :</strong> Vos campagnes doivent avoir un ROAS ‚â• 2.5 pour √™tre rentables
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Inputs principaux -->
    <div class="basic-inputs">
        <div class="input-row">
            <div class="input-group primary">
                <label for="basic-selling-price">
                    üí∞ Prix de vente (HT)
                    <span class="help-icon" title="Prix auquel vous vendez le produit, hors taxes">?</span>
                </label>
                <div class="input-wrapper">
                    <input type="number" 
                           id="basic-selling-price" 
                           name="sellingPrice"
                           class="calc-input" 
                           step="0.01" 
                           min="0" 
                           value="29.99"
                           aria-describedby="selling-price-help">
                    <span class="input-currency">‚Ç¨</span>
                </div>
                <small id="selling-price-help" class="input-help">Le prix auquel vous vendez votre produit</small>
            </div>

            <div class="input-group primary">
                <label for="basic-product-cost">
                    üì¶ Co√ªt du produit
                    <span class="help-icon" title="Ce que vous co√ªte le produit (achat, fabrication)">?</span>
                </label>
                <div class="input-wrapper">
                    <input type="number" 
                           id="basic-product-cost" 
                           name="productCost"
                           class="calc-input" 
                           step="0.01" 
                           min="0" 
                           value="12.50"
                           aria-describedby="product-cost-help">
                    <span class="input-currency">‚Ç¨</span>
                </div>
                <small id="product-cost-help" class="input-help">Prix d'achat ou de fabrication du produit</small>
            </div>
        </div>

        <!-- Co√ªts additionnels (optionnels) -->
        <div class="optional-costs">
            <button type="button" class="toggle-advanced" onclick="toggleAdvancedCosts()">
                ‚öôÔ∏è Ajouter des co√ªts suppl√©mentaires (optionnel)
            </button>
            
            <div class="advanced-costs" id="advanced-costs" style="display: none;">
                <div class="input-row">
                    <div class="input-group">
                        <label for="basic-shipping-cost">üöö Frais de livraison</label>
                        <div class="input-wrapper">
                            <input type="number" 
                                   id="basic-shipping-cost" 
                                   name="shippingCost"
                                   class="calc-input" 
                                   step="0.01" 
                                   min="0" 
                                   value="3.50">
                            <span class="input-currency">‚Ç¨</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="basic-payment-fees">üí≥ Frais bancaires (%)</label>
                        <div class="input-wrapper">
                            <input type="number" 
                                   id="basic-payment-fees" 
                                   name="paymentFees"
                                   class="calc-input" 
                                   step="0.1" 
                                   min="0" 
                                   max="10" 
                                   value="2.9">
                            <span class="input-currency">%</span>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="basic-other-costs">üìã Autres co√ªts fixes</label>
                    <div class="input-wrapper">
                        <input type="number" 
                               id="basic-other-costs" 
                               name="otherCosts"
                               class="calc-input" 
                               step="0.01" 
                               min="0" 
                               value="2.00">
                        <span class="input-currency">‚Ç¨</span>
                    </div>
                    <small class="input-help">SAV, frais g√©n√©raux, retours...</small>
                </div>
            </div>
        </div>
    </div>

    <!-- R√©sultats en temps r√©el -->
    <div class="basic-results">
        <h3>üìä Vos R√©sultats</h3>
        
        <div class="results-grid">
            <div class="result-card primary">
                <div class="result-icon">üí∞</div>
                <div class="result-content">
                    <div class="result-label">Marge par Vente</div>
                    <div class="result-value" id="unit-margin">11,05 ‚Ç¨</div>
                    <div class="result-percent" id="margin-percent">36,9%</div>
                </div>
            </div>

            <div class="result-card beroas-card">
                <div class="result-icon">üéØ</div>
                <div class="result-content">
                    <div class="result-label">BEROAS (Seuil de Rentabilit√©)</div>
                    <div class="result-value" id="calculated-beroas">2,71</div>
                    <div class="result-status" id="beroas-status">‚úÖ BEROAS: 2.71 (Tr√®s bon)</div>
                </div>
            </div>

            <div class="result-card">
                <div class="result-icon">üí∏</div>
                <div class="result-content">
                    <div class="result-label">Budget Pub Max</div>
                    <div class="result-value" id="max-becpa">11,05 ‚Ç¨</div>
                    <div class="result-subtitle">Par vente r√©alis√©e</div>
                </div>
            </div>

            <div class="result-card">
                <div class="result-icon">üè∑Ô∏è</div>
                <div class="result-content">
                    <div class="result-label">Prix Client Final</div>
                    <div class="result-value" id="price-ttc">35,99 ‚Ç¨</div>
                    <div class="result-subtitle">TVA 20% incluse</div>
                </div>
            </div>
        </div>

        <!-- Explication du BEROAS -->
        <div class="beroas-explanation">
            <h4>üéØ Comment utiliser votre BEROAS ?</h4>
            <div class="explanation-grid">
                <div class="explanation-item good">
                    <div class="explanation-icon">‚úÖ</div>
                    <div class="explanation-content">
                        <strong>ROAS ‚â• BEROAS</strong>
                        <p>Vos campagnes sont rentables</p>
                    </div>
                </div>
                <div class="explanation-item bad">
                    <div class="explanation-icon">‚ùå</div>
                    <div class="explanation-content">
                        <strong>ROAS < BEROAS</strong>
                        <p>Vous perdez de l'argent</p>
                    </div>
                </div>
                <div class="explanation-item neutral">
                    <div class="explanation-icon">‚öñÔ∏è</div>
                    <div class="explanation-content">
                        <strong>ROAS = BEROAS</strong>
                        <p>Vous √™tes √† l'√©quilibre</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Benchmarks sectoriels dans un accord√©on -->
        <div class="benchmark-accordion">
            <button type="button" class="accordion-trigger" onclick="toggleBenchmarks()">
                üìä Voir les benchmarks BEROAS par secteur
                <span class="accordion-icon" id="benchmark-icon">+</span>
            </button>
            <div class="benchmark-content" id="benchmark-content" style="display: none;">
                <p class="benchmark-disclaimer">
                    <small><em>Donn√©es bas√©es sur l'analyse de 500+ e-commerces fran√ßais (2023-2024) - Sources : √©tudes sectorielles & retours clients</em></small>
                </p>
                <div class="benchmark-grid">
                    <div class="benchmark-item">
                        <span class="benchmark-sector">Dropshipping</span>
                        <span class="benchmark-range">2.0 - 3.5</span>
                        <small>Marges serr√©es, concurrence forte</small>
                    </div>
                    <div class="benchmark-item">
                        <span class="benchmark-sector">Fait-main</span>
                        <span class="benchmark-range">1.5 - 2.5</span>
                        <small>Marges √©lev√©es, valeur per√ßue forte</small>
                    </div>
                    <div class="benchmark-item">
                        <span class="benchmark-sector">Produits digitaux</span>
                        <span class="benchmark-range">1.2 - 2.0</span>
                        <small>Co√ªts marginaux tr√®s faibles</small>
                    </div>
                    <div class="benchmark-item">
                        <span class="benchmark-sector">Mode/Beaut√©</span>
                        <span class="benchmark-range">2.5 - 4.0</span>
                        <small>Retours fr√©quents, co√ªts logistiques</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.basic-calculator {
    background: white;
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid #e2e8f0;
}

.calculator-intro {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px solid #f1f5f9;
}

.calculator-intro h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #2d3748;
    margin: 0 0 0.5rem 0;
}

.calculator-intro p {
    color: #718096;
    margin: 0 0 1.5rem 0;
    font-size: 1rem;
    line-height: 1.5;
}

/* Accord√©on styles */
.example-accordion,
.benchmark-accordion {
    background: #f8fafc;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
    margin-bottom: 1rem;
}

.accordion-trigger {
    width: 100%;
    padding: 1rem 1.5rem;
    background: none;
    border: none;
    text-align: left;
    font-weight: 600;
    color: #4a5568;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
}

.accordion-trigger:hover {
    background: #edf2f7;
}

.accordion-icon {
    font-weight: 700;
    font-size: 1.2rem;
    transition: transform 0.3s ease;
}

.accordion-icon.open {
    transform: rotate(45deg);
}

.example-content,
.benchmark-content {
    padding: 0 1.5rem 1.5rem;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        max-height: 0;
        padding-top: 0;
        padding-bottom: 0;
    }
    to {
        opacity: 1;
        max-height: 500px;
        padding-top: 0;
        padding-bottom: 1.5rem;
    }
}

.example-scenario {
    display: grid;
    gap: 0.75rem;
}

.scenario-step {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: white;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
}

.step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: #667eea;
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.9rem;
    flex-shrink: 0;
}

.step-text {
    color: #4a5568;
    line-height: 1.4;
}

.scenario-conclusion {
    background: rgba(72, 187, 120, 0.1);
    border: 1px solid #48bb78;
    border-radius: 0.5rem;
    padding: 1rem;
    color: #22543d;
    line-height: 1.4;
}

.benchmark-disclaimer {
    color: #718096;
    font-style: italic;
    margin-bottom: 1rem;
    padding: 0.75rem;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 0.25rem;
    border-left: 3px solid #667eea;
}

.benchmark-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.benchmark-item {
    background: white;
    padding: 1rem;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
    text-align: center;
}

.benchmark-sector {
    font-weight: 700;
    color: #2d3748;
    display: block;
    margin-bottom: 0.5rem;
}

.benchmark-range {
    font-weight: 700;
    color: #667eea;
    font-size: 1.1rem;
    display: block;
    margin-bottom: 0.5rem;
}

.benchmark-item small {
    color: #718096;
    font-size: 0.8rem;
    line-height: 1.3;
}

/* Rest of existing styles... */
.basic-inputs {
    margin-bottom: 2rem;
}

.input-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}

.input-group {
    display: flex;
    flex-direction: column;
}

.input-group.primary {
    position: relative;
}

.input-group.primary::before {
    content: '';
    position: absolute;
    left: -0.5rem;
    top: 0;
    bottom: 0;
    width: 4px;
    background: #667eea;
    border-radius: 2px;
}

.input-group label {
    font-weight: 600;
    color: #4a5568;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.help-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    background: #e2e8f0;
    color: #718096;
    border-radius: 50%;
    font-size: 0.75rem;
    cursor: help;
    font-weight: bold;
}

.help-icon:hover {
    background: #cbd5e0;
}

.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.input-wrapper input {
    width: 100%;
    padding: 1rem 3rem 1rem 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 0.5rem;
    font-size: 1.1rem;
    font-weight: 600;
    transition: all 0.3s ease;
    background: #fff;
}

.input-wrapper input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    transform: translateY(-1px);
}

.input-currency {
    position: absolute;
    right: 1rem;
    color: #718096;
    font-weight: 600;
    pointer-events: none;
}

.input-help {
    color: #a0aec0;
    font-size: 0.85rem;
    margin-top: 0.25rem;
}

.optional-costs {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #f1f5f9;
}

.toggle-advanced {
    background: #f7fafc;
    border: 1px solid #e2e8f0;
    color: #4a5568;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    width: 100%;
    text-align: left;
}

.toggle-advanced:hover {
    background: #edf2f7;
    border-color: #cbd5e0;
}

.advanced-costs {
    margin-top: 1rem;
    padding: 1rem;
    background: #f8fafc;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
}

.basic-results {
    background: #f8fafc;
    padding: 2rem;
    border-radius: 0.75rem;
    border: 1px solid #e2e8f0;
}

.basic-results h3 {
    font-size: 1.3rem;
    font-weight: 700;
    color: #2d3748;
    margin: 0 0 1.5rem 0;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

.result-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 0.75rem;
    transition: all 0.3s ease;
}

.result-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.result-card.primary {
    border-color: #667eea;
    background: linear-gradient(135deg, #667eea10, #764ba220);
}

.result-card.beroas-card {
    border-color: #48bb78;
    background: linear-gradient(135deg, #48bb7810, #38a16920);
}

.result-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.result-content {
    flex: 1;
}

.result-label {
    font-size: 0.8rem;
    color: #718096;
    margin-bottom: 0.25rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.result-value {
    font-size: 1.4rem;
    font-weight: 800;
    color: #2d3748;
    margin-bottom: 0.25rem;
}

.result-percent,
.result-subtitle,
.result-status {
    font-size: 0.85rem;
    color: #718096;
}

.beroas-explanation {
    background: white;
    padding: 1.5rem;
    border-radius: 0.75rem;
    border: 1px solid #e2e8f0;
    margin-bottom: 1.5rem;
}

.beroas-explanation h4 {
    font-size: 1.1rem;
    font-weight: 700;
    color: #2d3748;
    margin: 0 0 1rem 0;
}

.explanation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.explanation-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
}

.explanation-item.good {
    background: rgba(72, 187, 120, 0.1);
    border-color: #48bb78;
}

.explanation-item.bad {
    background: rgba(245, 101, 101, 0.1);
    border-color: #f56565;
}

.explanation-item.neutral {
    background: rgba(237, 137, 54, 0.1);
    border-color: #ed8936;
}

.explanation-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.explanation-content strong {
    display: block;
    color: #2d3748;
    margin-bottom: 0.25rem;
    font-size: 0.9rem;
}

.explanation-content p {
    color: #4a5568;
    margin: 0;
    font-size: 0.85rem;
}

/* Responsive */
@media (max-width: 768px) {
    .basic-calculator {
        padding: 1.5rem;
    }
    
    .input-row {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .results-grid {
        grid-template-columns: 1fr;
    }
    
    .explanation-grid {
        grid-template-columns: 1fr;
    }
    
    .result-card {
        padding: 1rem;
    }
    
    .result-value {
        font-size: 1.2rem;
    }
    
    .benchmark-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
function toggleExample() {
    const content = document.getElementById('example-content');
    const icon = document.getElementById('example-icon');
    
    if (content.style.display === 'none') {
        content.style.display = 'block';
        icon.textContent = '‚àí';
        icon.classList.add('open');
    } else {
        content.style.display = 'none';
        icon.textContent = '+';
        icon.classList.remove('open');
    }
}

function toggleBenchmarks() {
    const content = document.getElementById('benchmark-content');
    const icon = document.getElementById('benchmark-icon');
    
    if (content.style.display === 'none') {
        content.style.display = 'block';
        icon.textContent = '‚àí';
        icon.classList.add('open');
    } else {
        content.style.display = 'none';
        icon.textContent = '+';
        icon.classList.remove('open');
    }
}

function toggleAdvancedCosts() {
    const advancedCosts = document.getElementById('advanced-costs');
    const toggleBtn = document.querySelector('.toggle-advanced');
    
    if (advancedCosts.style.display === 'none') {
        advancedCosts.style.display = 'block';
        toggleBtn.textContent = '‚öôÔ∏è Masquer les co√ªts suppl√©mentaires';
    } else {
        advancedCosts.style.display = 'none';
        toggleBtn.textContent = '‚öôÔ∏è Ajouter des co√ªts suppl√©mentaires (optionnel)';
    }
}
</script>